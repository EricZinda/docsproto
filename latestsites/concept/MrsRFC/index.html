<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Conceptual Docs</title>
<meta name="description" content="An amazing website.">


  <meta name="author" content="Your Name">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Conceptual Docs">
<meta property="og:title" content="Conceptual Docs">
<meta property="og:url" content="http://blog.inductorsoftware.com/docsproto/concept/MrsRFC/">


  <meta property="og:description" content="An amazing website.">











  

  


<link rel="canonical" href="http://blog.inductorsoftware.com/docsproto/concept/MrsRFC/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Your Name",
      "url": "http://blog.inductorsoftware.com/docsproto/concept/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/docsproto/concept/feed.xml" type="application/atom+xml" rel="alternate" title="Conceptual Docs Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/docsproto/concept/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--delphin_page wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/docsproto/concept/"><img src="/docsproto/concept/assets/images/Delph-In.png" alt="Conceptual Docs"></a>
        
        <a class="site-title" href="/docsproto/concept/">
          Conceptual Docs
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://blog.inductorsoftware.com/docsproto/concept">Concepts</a>
            </li><li class="masthead__menu-item">
              <a href="https://blog.inductorsoftware.com/docsproto/tools">Tools</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Erg Semantics</span>
        

        
        <ul>
          
            <li><a href="/docsproto/concept/ErgSemantics">Overview</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Essence">Essence</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Basics">Basics</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Design">Design</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_HowToCite">How to Cite This Work</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Inventory</span>
        

        
        <ul>
          
            <li><a href="/docsproto/concept/ErgSemantics_Inventory">Overview</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Apposition">Apposition</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Comparatives">Comparatives</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Compounding">Compounding</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Conditionals">Conditionals</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_ControlRelations">Control Relations</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Coordination">Coordination</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Ellipsis">Ellipsis</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_ForeignExpressions">Foreign Expressions</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Fragments">Fragments</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_IdentityCopulae">Identity Copulae</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Imperatives">Imperatives</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_ImplicitLocatives">Implicit Locatives</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_ImplicitNominals">Implicit Nominals</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_ImplicitQuantifiers">Implicit Quantifiers</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_InstrumentalRelatives">Instrumental Relatives</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_MeasurePhrases">Measure Phrases</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Nominalization">Nominalization</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_NonAdverbialClausalModifiers">Non-Adverbial Clausal Modifiers</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_NumberSequences">Number Sequences</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Parentheticals">Parentheticals</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Partitives">Partitives</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_PropositionalArguments">Propositional Arguments</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_QuasiModalInfinitivals">Quasi-Modal Infinitivals</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_RelationalNouns">Relational Nouns</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_TimeExpressions">Time Expressions</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Vocatives">Vocatives</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Erg Usage</span>
        

        
        <ul>
          
            <li><a href="/docsproto/concept/ErgProcessing">Overview</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Interface">Semantics Interface</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">RFCs</span>
        

        
        <ul>
          
            <li><a href="/docsproto/concept/PredicateRfc">Predicates</a></li>
          
            <li><a href="/docsproto/concept/MrsRFC">MRS Format</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Projects</span>
        

        
        <ul>
          
            <li><a href="/docsproto/concept/RedwoodsTop">Redwoods</a></li>
          
            <li><a href="/docsproto/concept/DeepBank">DeepBank</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Discovery">Semantics Discovery</a></li>
          
            <li><a href="/docsproto/concept/MatrixMrsTestSuite">Matrix MRS Test Suite</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Housekeeping</span>
        

        
        <ul>
          
            <li><a href="/docsproto/concept/ErgSemantics_Raw_Materials">Raw Materials</a></li>
          
            <li><a href="/docsproto/concept/ErgSemantics_Conventions">ERG Semantics Conventions</a></li>
          
            <li><a href="/docsproto/concept/IconsSpecs">Icons Specs</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <h1 id="request-for-comments-mrs">Request For Comments: MRS</h1>

<h2 id="overview">Overview</h2>

<p>Minimal Recursion Semantics (MRS; see Copestake et al., 2005) is a
framework for computational semantics characterised by a flat structure
(hence the “minimal recursion”). It allows for underspecification, so
true scopal ambiguities can be left ambiguous, or fully specified if
needed. This RFC aims to be a reference document for developers writing
code to process MRSs. See below for the <a href="MrsRfc#formal-properties">formal
properties</a> of MRS objects. For ways to
represent MRS objects textually, see the <a href="MrsRfc#serialization-formats">serialization
formats</a> section.</p>

<p>Unless otherwise noted, most information below is adapted from Copestake
et al. (2005). The reader is referred to this paper for more information
on the theory of MRS.</p>

<p>Here is an example in the Simple-MRS serialization of the sentence “The
road rises from there.”</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ LTOP: h1
  INDEX: e2 [ e SF: PROP TENSE: PRES MOOD: INDICATIVE PROG: - PERF: - ]
  RELS: &lt; [ _the_q_rel&lt;0:3&gt; LBL: h3 ARG0: x5 [ x PERS: 3 NUM: SG IND: + ] RSTR: h6 BODY: h4 ]
          [ "_road_n_1_rel"&lt;4:8&gt; LBL: h7 ARG0: x5 ]
          [ "_rise_v_1_rel"&lt;9:14&gt; LBL: h8 ARG0: e2 ARG1: x5 ]
          [ _from_p_dir_rel&lt;15:19&gt; LBL: h8 ARG0: e9 [ e SF: PROP TENSE: UNTENSED MOOD: INDICATIVE PROG: - PERF: - ] ARG1: e2 ARG2: x10 [ x PERS: 3 NUM: SG ] ]
          [ place_n_rel&lt;20:26&gt; LBL: h11 ARG0: x10 ]
          [ def_implicit_q_rel&lt;20:26&gt; LBL: h12 ARG0: x10 RSTR: h13 BODY: h14 ]
          [ _there_a_1_rel&lt;20:26&gt; LBL: h11 ARG0: e15 [ e SF: PROP TENSE: UNTENSED MOOD: INDICATIVE PROG: - PERF: - ] ARG1: x10 ] &gt;
  HCONS: &lt; h6 qeq h7 h13 qeq h11 &gt; ]
</code></pre></div></div>

<h2 id="formal-properties">Formal Properties</h2>

<p>As defined by <a href="https://www.cl.cam.ac.uk/~aac10/papers/mrs.pdf">Copestake et al. 2005</a>, MRS objects are partly composed of Elementary Predications (EPs), which are defined as the following 4-tuple:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EP : &lt; h, p, a, s &gt;
</code></pre></div></div>

<p>Where:</p>
<ul>
  <li>h is the handle, or label, of the EP</li>
  <li>p is the relation, or <a href="../PredicateRfc">“predicate”</a></li>
  <li>a is a list of 0 or more variable arguments of the relation</li>
  <li>s is a list of 0 or more scopal arguments of the relation</li>
</ul>

<p>An MRS structure is the following triple:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MRS : &lt; gt, r, c &gt;
</code></pre></div></div>

<p>Where:</p>
<ul>
  <li>gt is the top handle (the label of the highest EP)</li>
  <li>r is a bag of EPs</li>
  <li>c is a bag of handle constraints</li>
</ul>

<p>Modern usage of MRS, however, introduces several other elements that
were not discussed in Copestake et al. 2005, leading to these expanded
definitions:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EP : &lt; h, p, a, s, c &gt;
</code></pre></div></div>

<p>Where:</p>

<ul>
  <li>c is a constant value (e.g. a string, for numbers, names, etc.)</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MRS : &lt; gt, ind, r, c, i &gt;
</code></pre></div></div>

<p>Where:</p>
<ul>
  <li>ind is an index (i.e. the top individual as opposed to the top
handle)</li>
  <li>i is a bag of individual constraints (i.e. ICONS)</li>
</ul>

<p>The additional elements are explained below.</p>

<h4 id="constant-value">Constant Value</h4>

<p>Proper names, like “Kim” or “IBM”, do not always get their own
predicate, but rather their name value is a constant string on a
general-purpose named_rel. The same thing happens with numbers and the
generic card_rel. The value of a constant argument is not a variable,
handle, or hole, but just a string that is not reentrant to the MRS
graph. Most kinds of predications do not include a constant argument.</p>

<p><strong>Note for Developers</strong></p>

<p>The XML format for MRS clearly distinguishes &lt;constant&gt; and
&lt;var&gt; argument values, but other serializations do not make it as
clear. If one has access to grammar definition files, then there are a
definitions for the argument name for a constant argument
(*value-feats* for the LKB and mrs-value-feat for PET). These
definitions suggest that a predication may contain no more than one
constant argument. Without such definitions, a solution may be to look
for argument values that are quoted, or simply ones that don’t look like
variables, and treat those as constant values.</p>

<h4 id="index">INDEX</h4>

<p>There is some debate about the status of INDEX. It is not part of the
formal definition of a complete MRS (see Copestake et al., 2005), hence
Ann has at times argued it should be suppressed when constructing an MRS
from its TFS description. On that point of view, INDEX is an element of
the composition process, but not the ‘final’ product.</p>

<p>Conversely, it has been argued (by Dan and Francis, among others) that
composition does not stop at the utterance level, i.e. if we were to
move into discourse-level analysis, we might still need access to INDEX.
Furthermore, in semantic transfer it is often convenient to have access
to the INDEX (even more so as the current ERG leaves the TOP
underspecified). In conclusion, as of mid-2011, I believe INDEX can be
considered a legitimate component of MRSs, even though it remains true
that it has a slightly different formal status than the others</p>

<h4 id="individual-constraints-icons">Individual Constraints (ICONS)</h4>

<p>Where handle constraints encode relations between holes and labels,
individual constraints encode relations between individual
(referential-index or eventuality) variables. One use of
<a href="../IconsSpecs">ICONS</a> is for encoding Information Structure (see <a href="http://cslipublications.stanford.edu/HPSG/2012/song-bender.pdf">Song and
Bender,
2012</a>).
Individual Constraints are supported by most processors of MRS, but,
being relatively new, are not yet used by most grammars.</p>

<p><strong>Note for Developers</strong></p>

<p>Unlike handle constraints, individual constraints may use variables that
are not instantiated on a predication (e.g., for a dropped or contextual
predication). Furthermore, they do not always co-occur with any scopal
or non-scopal arguments.</p>

<h2 id="general-remarks">General Remarks</h2>

<p>Predicate names are <em>not</em> case-sensitive, but constants (CARGs) are.
Furthermore, even though much current MRS manipulation software
maintains a distinction between double-quoted predicate names
(corresponding to Lisp strings) and non-quoted ones (corresponding to
Lisp symbols, often naming types in some hierarchy); this distinction is
not meaningful either and arguably should be suppressed in MRS in- and
output. More information is available at <a href="../PredicateRfc">PredicateRfc</a>.</p>

<h2 id="serialization-formats">Serialization Formats</h2>

<h3 id="simple">Simple</h3>

<p>This is a BNF for the commonly used v1.0 form of SimpleMRS:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MRS          := "[" Top Index Rels Hcons "]"
Top          := "LTOP" ":" Handle
Index        := "INDEX" ":" Var
Handle       := Variable
Var          := Variable VarProps?
Variable     := /[A-Za-z][-A-Za-z]*\d+/
VarProps     := "[" VarSort ExtraPair* "]"
VarSort      := /[A-Za-z][-A-Za-z]*/
ExtraPair    := Path ":" Value
Path         := /[A-Za-z]\w+/
Value        := Token | QuotedString
Token        := /[^:\]&gt;\s]+/
QuotedString := /"[^"\\]*(?:\\.[^"\\]*)*"/
Rels         := "RELS" ":" "&lt;" EP* "&gt;"
EP           := "[" Pred Lnk? Label Rarg* Carg? "]"
Pred         := StringPred | TypePred
StringPred   := QuotedString
TypePred     := /_?([^_\s]+_)*(_rel)?/
Lnk          := "&lt;" /-?\d+/ ":" /-?\d+/ "&gt;"
Label        := "LBL" ":" Handle
Rarg         := RargName ":" Var
RargName     := Token
Carg         := "CARG" ":" Value
Hcons        := "HCONS" ":" "&lt;" Hcon* "&gt;"
Hcon         := Var HconReln Handle
HconReln     := "qeq" | "lheq" | "outscopes"
</code></pre></div></div>

<p>The newer v1.1 format redefines some symbols to allow SimpleMRS to
encode nearly all the same information as the XML format, including
MRS-level Lnk values and surface strings. It also changes “LTOP” to
“TOP” and includes ICONS. The following are just the redefined and
additional symbols from the v1.0 BNF.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MRS          := "[" Lnk? Surface? Top Index Rels Hcons Icons? "]"
Top          := "TOP" ":" Handle
EP           := "[" Pred Lnk? Surface? Label Rarg* Carg? "]"
Surface      := QuotedString
Icons        := "ICONS" ":" "&lt;" Icon "&gt;"
Icon         := Var IconReln Var
IconReln     := Token
</code></pre></div></div>

<h5 id="other-notes">Other notes</h5>

<p>The BNFs above are strict in some places, but robust in others. It also
leaves out possible variations.</p>

<ul>
  <li>Variable, VarSort, and Path (variable property key) are perhaps too
strict</li>
  <li>Token, StringPred, and TypePred are perhaps too permissive</li>
  <li>IconReln and RargName (and even Path) could be more specifically
defined, but they depend on the grammar</li>
  <li>Lnk only includes the character-span lnk type, but there are 3 other
(uncommon and less-supported) types: chart-span, edge-number, and
token-list</li>
</ul>

<h3 id="xml">XML</h3>

<p>This <a href="http://relaxng.org/">RelaxNG</a> compact schema defines the XML
format for MRS (aka <em>MRX</em>). Note that this version includes ICONS, while
the <a href="http://svn.emmtee.net/trunk/lingo/lkb/src/mrs/mrs.dtd">original
DTD</a> does not.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>start = MrsList
MrsList = element mrs-list { Mrs* }
Mrs = element mrs {
  Label,
  Var,
  (EP|Hcons|Icons)*,
  attribute cfrom { xsd:int }?,
  attribute cto { xsd:int }?,
  attribute surface { text }?,
  attribute ident { text }?
}
EP = element ep {
  (Pred|SPred|RealPred),
  Label,
  FVPair*,
  attribute cfrom { xsd:int }?,
  attribute cto { xsd:int }?,
  attribute surface { text }?,
  attribute base { text }?
}
Pred = element pred { text }
SPred = element spred { text }
RealPred = element realpred {
  attribute lemma { text },
  attribute pos { xsd:string { pattern="[nvajrscpqxud]" } },
  attribute sense { text }?
}
Label = element label {
  ExtraPair*,
  attribute vid { xsd:int }
}
Var = element var {
  ExtraPair*,
  attribute vid { xsd:int },
  attribute sort { text }
}
ExtraPair = element extrapair {
  element path { text },
  element value { text }
}
FVPair = element fvpair {
  element rargname { text },
  ( Var | element constant { text } )
}
Hcons = element hcons {
  element hi { Var },
  element lo { ( Label | Var ) },
  attribute hreln { "qeq" | "lheq" | "outscopes" }
}
Icons = element icons {
  element left { Var },
  element right { Var },
  attribute ireln { text }
}
</code></pre></div></div>

<h3 id="json">JSON</h3>

<p><strong>Non-final</strong></p>

<p>This format is largely decided, but it is not explicitly finalized and
may change in the future.</p>

<p>The development of the <a href="../RestfulTop">REST API</a> called for JSON
serializations of many formats. Here is an example JSON serialization of
MRS for “It is Abrams that the dog barked at.”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "top": "h0",
  "index": "e2",
  "relations": [
    {"predicate": "proper_q", "label": "h4", "lnk": {"from": 6, "to": 12},
      "arguments": {"ARG0": "x5", "BODY": "h7", "RSTR": "h6"}},
    {"predicate": "named", "label": "h8", "lnk": {"from": 6, "to": 12},
      "arguments": {"ARG0": "x5", "CARG": "Abrams"}},
    {"predicate": "_the_q", "label": "h10", "lnk": {"from": 13, "to": 16},
      "arguments": {"ARG0": "x11", "BODY": "h13", "RSTR": "h12"}},
    {"predicate": "_dog_n_1", "label": "h14", "lnk": {"from": 17, "to": 20},
      "arguments": {"ARG0": "x11"}},
    {"predicate": "_bark_v_1", "label": "h1", "lnk": {"from": 21, "to": 27},
      "arguments": {"ARG0": "e15", "ARG1": "x11"}},
    {"predicate": "_at_p_temp", "label": "h1", "lnk": {"from": 28, "to": 31},
      "arguments": {"ARG0": "e16", "ARG1": "e15", "ARG2": "x5"}}
  ],
  "constraints": [
    {"relation": "qeq", "high": "h0", "low": "h1"},
    {"relation": "qeq", "high": "h6", "low": "h8"},
    {"relation": "qeq", "high": "h12", "low": "h14"},
    {"relation": "focus", "left": "e15", "right": "x5"}
  ]
  "variables": {
    "h0": {"type": "h"},
    "h1": {"type": "h"},
    "e2": {"type": "e", "properties": {"PROG": "-", "SF": "prop", "TENSE": "pres", "PERF": "-", "MOOD": "indicative"}},
    "h4": {"type": "h"},
    "x5": {"type": "x", "properties": {"NUM": "sg", "IND": "+", "PERS": "3"}},
    "h6": {"type": "h"},
    "h7": {"type": "h"},
    "h8": {"type": "h"},
    "h10": {"type": "h"},
    "x11": {"type": "x", "properties": {"NUM": "sg", "IND": "+", "PERS": "3"}},
    "h12": {"type": "h"},
    "h13": {"type": "h"},
    "h14": {"type": "h"},
    "e15": {"type": "e", "properties": {"MOOD": "indicative", "SF": "prop", "TENSE": "past"}},
    "e16": {"type": "e", "properties": {"PROG": "-", "SF": "prop", "TENSE": "untensed", "PERF": "-", "MOOD": "indicative"}}
  },
}
</code></pre></div></div>

<p>Note the following:</p>

<ul>
  <li>the short-form of predicates is used</li>
  <li>variable sort and properties are in a mapping called “variables”</li>
  <li>HCONS and ICONS are combined in a “constraints” list</li>
</ul>

<p>There is no official schema format for JSON, but <a href="http://json-schema.org">JSON
Schema</a> seems to be gaining traction. Here is a
schema that validates the above JSON format (see
<a href="http://json-schema.org/implementations.html">here</a> for software that
can be used to validate documents with JSON Schema).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "MRS",
  "description": "Minimal Recursion Semantics",
  "type": "object",
  "required": ["relations", "constraints", "variables"],
  "properties": {
    "top": {
      "description": "The scopal TOP of the MRS",
      "$ref": "#/definitions/handle"
    },
    "index": {
      "description": "The semantic INDEX of the MRS",
      "$ref": "#/definitions/variable"
    },
    "relations": {
      "description": "A collection of elementary predications (EPs)",
      "type": "array",
      "items": {
        "type": "object",
        "required": ["predicate", "label", "arguments"],
        "properties": {
          "predicate": {
            "oneOf": [
              {
                "description": "A surface predicate",
                "type": "string",
                "pattern": "^_[^_]+_[a-z](_[^_]+)?$"
              },
              {
                "description": "An abstract predicate",
                "type": "string",
                "pattern": "^[^_][^ ]*$"
              },
              {
                "description": "A real (i.e. composite) predicate",
                "type": "object",
                "required": ["lemma", "pos"],
                "properties": {
                  "lemma": {"type": "string"},
                  "pos": {
                    "type": "string",
                    "pattern": "^[a-z]$"
                  },
                  "sense": {"type": "string"}
                }
              }
            ]
          },
          "label": {"$ref": "#/definitions/handle"},
          "lnk": {"$ref": "#/definitions/lnk"},
          "arguments": {
            "type": "object",
            "patternProperties": {
              "^[^ ]+$": {
                "anyOf": [
                  {"$ref": "#/definitions/variable"},
                  {"type": "string"}
                ]
              }
            }
          }
        }
      }
    },
    "constraints": {
      "description": "A collection of variable constraints",
      "type": "array",
      "items": {
        "oneOf": [
          {
              "description": "A handle constraint (HCONS)",
              "type": "object",
              "required": ["relation", "high", "low"],
              "properties": {
                "relation": {"enum": ["qeq", "lheq", "outscopes"]},
                "high": {"$ref": "#/definitions/handle"},
                "low": {"$ref": "#/definitions/handle"}
              }
          },
          {
              "description": "An individual constraint (ICONS)",
              "type": "object",
              "required": ["relation", "left", "right"],
              "properties": {
                "relation": {"enum": ["qeq", "lheq", "outscopes"]},
                "left": {"$ref": "#/definitions/variable"},
                "right": {"$ref": "#/definitions/variable"}
              }
          }
        ]
      }
    },
    "variables": {
      "patternProperties": {
        "^(h|handle)[0-9]+$": {
          "type": "object",
          "required": ["type"],
          "properties": {
            "type": {"$ref": "#/definitions/variable-type"}
          }
        },
        "^([-a-zA-Z0-9_]*[-a-zA-Z_])([0-9]+)$": {
          "type": "object",
          "required": ["type"],
          "properties": {
            "type": {"$ref": "#/definitions/variable-type"},
            "patternProperties": {
              "^[^ ]+$": {"type": "string"}
            }
          }
        }
      }

    }
  },
  "definitions": {
    "lnk": {
      "type": "object",
      "required": ["from", "to"],
      "properties": {
        "from": {"type": "integer"},
        "to": {"type": "integer"}
      }
    },
    "handle": {
      "type": "string",
      "pattern": "^(h|handle)[0-9]+$"
    },
    "variable": {
      "type": "string",
      "pattern": "^([-a-zA-Z0-9_]*[-a-zA-Z_])([0-9]+)$"
    },
    "variable-type": {
      "type": "string",
      "pattern": "^([-a-zA-Z0-9_]*[-a-zA-Z_])$"
    }
  }
}
</code></pre></div></div>

<h3 id="indexed">Indexed</h3>

<p>Mostly for historical interest, here is an example of the Indexed MRS
format for the sentence “Abrams barked.”:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt; h1,e3:PROP:PAST:INDICATIVE:-:-,
 {h4:proper_q&lt;0:6&gt;(x6:3:SG:+, h5, h7),
  h8:named&lt;0:6&gt;(x6, "Abrams"),
  h2:_bark_v_1&lt;7:14&gt;(e3, x6)},
 {h1 qeq h2,
  h5 qeq h8} &gt;
</code></pre></div></div>

<p>It is one of the most compact formats because it omits role and property
names. This means, however, that it is necessary to use a
<a href="../SemiRfc">SEM-I</a> for serialization and deserialization in order to map
argument/property indices to role/property names. A BNF, adapted from
comments in the <a href="http://svn.emmtee.net/trunk/lingo/lkb/src/mrs/basemrs.lisp">LKB
source</a>, is
as follows (with some productions borrowed from the SimpleMRS BNF):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MRS    := "&lt;" Ltop "," Index "," Rels "," Hcons ( "," Icons )? "&gt;"
Ltop   := Variable
Index  := Var
Rels   := "{" ( EP ( "," EP )* )? "}"
Hcons  := "{" ( HC ( "," HC )* )? "}"
Icons  := "{" ( IC ( "," IC )* )? "}"
EP     := Variable ":" PredName Lnk? "(" Arg ( "," Arg )* ")"
Arg    := Var | QuotedString | ConstName
Var    := Variable (":" ConstName)*
HC     := Variable HCReln Variable
HCReln := "qeq" | "lheq" | "outscopes"
IC     := Variable ICReln Variable
ICReln := ConstName
ConstName := Token
</code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form onsubmit="return googleCustomSearchExecute();" id="cse-search-box-form-id">
    <label class="sr-only" for="cse-search-input-box-id">
      Enter your search term...
    </label>
    <input type="search" id="cse-search-input-box-id" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results">
    <gcse:searchresults-only></gcse:searchresults-only>
  </div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/docsproto/concept/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Your Name. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/docsproto/concept/assets/js/main.min.js"></script>


<script>
  (function () {
    var cx = '7761c0bff1e224240';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();

  function googleCustomSearchExecute() {
    var input = document.getElementById('cse-search-input-box-id');
    var element = google.search.cse.element.getElement('searchresults-only0');
    if (input.value == '') {
      element.clearAllResults();
    } else {
      element.execute(input.value);
    }
    return false;
  }

  
</script>







  </body>
</html>
